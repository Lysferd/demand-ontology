= content_for( :subtitle ) do
  = "detalhes de #{@dataset.name}"

%table
  %caption
    Informações Básicas
  %thead
    %th
      Nome do Dataset
    %th
      Arquivo RDF/OWL Original
    %th
      Total de Triplas (TDB / RDF-OWL)
    %th
      Total de Indivíduos (TDB)
    %th
      Opções

  %tbody
    %tr
      %td= @dataset.name
      %td
        %span( title = 'Efetuar download do arquivo RDF/OWL' )
          = link_to @dataset.rdf_source, send_rdf_source_path( @dataset.id )
      %td= "#{@dataset.count} / #{@dataset.count_rdf}"
      %td= @dataset.individuals.to_a.size
      %td
        = button_get 'Adicionar Indivíduo', new_individual_path( @dataset )
        = button_get 'Editar', edit_dataset_path( @dataset )
        = button_delete 'Excluir', @dataset
%p

%table
  %caption
    Lista de Indivíduos
  %thead
    %th
      Nome do Indivíduo
    %th
      Classe do Indivíduo
    %th
      Opções

  %tbody
    - for individual in @dataset.individuals do
      %tr
        %td= individual.local_name.gsub( /_/, ' ' )
        %td
          - individual.list_ont_classes(true).map do | m |
            - unless m.local_name =~ /NamedIndividual/
              = m.local_name.gsub( /_/, ' ' ).titleize
        %td
          = button_get 'Detalhes', show_individual_path( @dataset, individual.local_name )
          = button_get 'Editar', edit_individual_path( @dataset, individual.local_name )
          = button_delete 'Excluir', destroy_individual_path( @dataset, individual.local_name )

%p
